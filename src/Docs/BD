-- Table: public.entrenador

-- DROP TABLE IF EXISTS public.entrenador;

CREATE TABLE IF NOT EXISTS public.entrenador
(
    id_entrenador integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    especialidad character varying(100) COLLATE pg_catalog."default",
    nombre character varying(100) COLLATE pg_catalog."default" NOT NULL,
    id_equipo integer NOT NULL,
    CONSTRAINT entrenador_pkey PRIMARY KEY (id_entrenador),
    CONSTRAINT fkg82oo5rvhpeu6edjri36kjgkl FOREIGN KEY (id_equipo)
        REFERENCES public.equipo (id_equipo) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.entrenador
    OWNER to postgres;

GRANT ALL ON TABLE public.entrenador TO anon;

GRANT ALL ON TABLE public.entrenador TO authenticated;

GRANT ALL ON TABLE public.entrenador TO postgres;

GRANT ALL ON TABLE public.entrenador TO service_role;


-- Table: public.equipo

-- DROP TABLE IF EXISTS public.equipo;

CREATE TABLE IF NOT EXISTS public.equipo
(
    id_equipo integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    ciudad character varying(100) COLLATE pg_catalog."default" NOT NULL,
    fundacion date NOT NULL,
    nombre character varying(100) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT equipo_pkey PRIMARY KEY (id_equipo)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.equipo
    OWNER to postgres;

GRANT ALL ON TABLE public.equipo TO anon;

GRANT ALL ON TABLE public.equipo TO authenticated;

GRANT ALL ON TABLE public.equipo TO postgres;

GRANT ALL ON TABLE public.equipo TO service_role;


-- Table: public.estadisticas_jugador

-- DROP TABLE IF EXISTS public.estadisticas_jugador;

CREATE TABLE IF NOT EXISTS public.estadisticas_jugador
(
    id_estadistica integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    asistencias integer,
    goles integer,
    minutos_jugados integer,
    tarjetas_amarillas integer,
    tarjetas_rojas integer,
    id_jugador integer NOT NULL,
    id_partido integer NOT NULL,
    CONSTRAINT estadisticas_jugador_pkey PRIMARY KEY (id_estadistica),
    CONSTRAINT fkf2qbhoo8qtj60gbvsfrqablkj FOREIGN KEY (id_jugador)
        REFERENCES public.jugador (id_jugador) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT fkikwv19j65fjjlmss3l4q7ih7h FOREIGN KEY (id_partido)
        REFERENCES public.partido (id_partido) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.estadisticas_jugador
    OWNER to postgres;

GRANT ALL ON TABLE public.estadisticas_jugador TO anon;

GRANT ALL ON TABLE public.estadisticas_jugador TO authenticated;

GRANT ALL ON TABLE public.estadisticas_jugador TO postgres;

GRANT ALL ON TABLE public.estadisticas_jugador TO service_role;


-- Table: public.jugador

-- DROP TABLE IF EXISTS public.jugador;

CREATE TABLE IF NOT EXISTS public.jugador
(
    id_jugador integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    dorsal integer,
    fecha_nac date NOT NULL,
    nacionalidad character varying(100) COLLATE pg_catalog."default",
    nombre character varying(100) COLLATE pg_catalog."default" NOT NULL,
    posicion character varying(50) COLLATE pg_catalog."default",
    id_equipo integer NOT NULL,
    CONSTRAINT jugador_pkey PRIMARY KEY (id_jugador),
    CONSTRAINT fki60lqb7emposedyui33q42u1i FOREIGN KEY (id_equipo)
        REFERENCES public.equipo (id_equipo) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.jugador
    OWNER to postgres;

GRANT ALL ON TABLE public.jugador TO anon;

GRANT ALL ON TABLE public.jugador TO authenticated;

GRANT ALL ON TABLE public.jugador TO postgres;

GRANT ALL ON TABLE public.jugador TO service_role;


-- Table: public.partido

-- DROP TABLE IF EXISTS public.partido;

CREATE TABLE IF NOT EXISTS public.partido
(
    id_partido integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    estadio character varying(100) COLLATE pg_catalog."default",
    fecha date NOT NULL,
    goles_local integer,
    goles_visita integer,
    equipo_local integer NOT NULL,
    equipo_visita integer NOT NULL,
    CONSTRAINT partido_pkey PRIMARY KEY (id_partido),
    CONSTRAINT fk1q3nbh68hi4xmjtvh8kp65mw1 FOREIGN KEY (equipo_local)
        REFERENCES public.equipo (id_equipo) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT fkp3l4xr7d0ieyxxk9gp6iyo4sj FOREIGN KEY (equipo_visita)
        REFERENCES public.equipo (id_equipo) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.partido
    OWNER to postgres;

GRANT ALL ON TABLE public.partido TO anon;

GRANT ALL ON TABLE public.partido TO authenticated;

GRANT ALL ON TABLE public.partido TO postgres;

GRANT ALL ON TABLE public.partido TO service_role;
